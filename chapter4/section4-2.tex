%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Author: Sibi <sibi@psibi.in>
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\documentclass{article}
\usepackage{graphicx}
\usepackage{verbatim}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{tabularx}
\setlength\parskip{\baselineskip}
\begin{document}
\title{Chapter 4 (Section 4.2)}
\author{Sibi}
\date{\today}
\maketitle
\newpage

\section{Problem 1}
Solution (a)

Domain = $\{ p \mid \text{p is a living parent} \}$
Range = $\{ q \mid \text{q is a living child} \}$

Solution(b)

Domain = $\mathbb{R}$
Range = $\mathbb{R^+}$

\section{Problem 2}

Solution(a)

Domain = $\{ p \mid \text{p is a brother to some living person }\}$
Range = $\{q \mid \text{q has some living brother.}\}$

Solution(b)

Domain = $\mathbb{R}$
Range = $\{ x \mid x \in \mathbb{R} \land  x > -1 \land x < 1 \}$

\section{Problem 3}

\subsection{Solution (a)}
\noindent

$L = \{(s,r) \in S \times R \mid \text{the student s lives in the dorm room
  r}\}$

$L^{-1} = \{(r,s)\} \in R \times S | (s,r) \in L\}$

$L^{-1} \circ L \text{ is relation on} S$

$L^{-1} \circ L = \{(s,t) \in S \times S \mid \exists r \in R((s,r) \in L \land
(r,t) \in L^{-1})\}$

$ = \{(s,t) \in S \times S \mid \exists r \in R (\text{ student s lives in
  dorm room r and so is student t})\}$

$ = \{(s,t) \in S \times S \mid \text{student s and t both live in some dorm
  room} \}$


\subsection{Solution b}
\noindent

$E \circ (L^{-1} \circ L)$ is relation from S to C.

$E \circ (L^{-1} \circ L) = \{(t,c) \in S \times C \mid \exists s \in
S((t,s) \in (S \times S) \land (s,c) \in S \times C\}$

\begin{multline}
  =\{(t,c) \in S \times C \mid \exists s \in S( \text{student s and t} \\
  \text{both live in some dorm room and student s is enrolled in course c)}\}
\end{multline}

$=\{(t,c) \in S \times C \mid \text{ t is a student who shares the
    dorm \\ with another student who is enrolled in course c}\}$

\section{Problem 4}

\subsection{Solution (a)}
\noindent

$S \circ R = \{(a,b) \in A \times B \mid \exists c \in B((a,c) \in R
\land (c,b) \in S)$

$ = {(1,5), (1,6), (1,4), (2,4), (3,6)}$

\subsection{Solution (b)}
\noindent

$S \circ S^{- 1} = \{(a,b) \in B \times B \mid \exists c \in B((a,c)
\in S^{-1} \land (c,b) \in S\}$

$S \circ S^{- 1} = \{(a,b) \in B \times B \mid \exists c \in B((c,a)
\in S \land (c,b) \in S\}$

$ = \{(5,6),(6,5),(5,5),(6,6),(4,4)\}$

\section{Problem 5}

\subsection{Solution (a)}
\noindent
$S^{-1} \circ R = \{(a,b) \in A \times B \mid \exists c \in C((a,c)
\in R \land (c,b) \in S^{-1}\}$

$S^{-1} \circ R = \{(a,b) \in A \times B \mid \exists c \in C((a,c)
\in R \land (b,c) \in S\}$

= \{(1,4), (3,4), (3,5)\}

\subsection{Solution (b)}
\noindent
$R^{-1} \circ S = \{(b,a) \in B \times A \mid \exists c \in C((b,c)
\in S \land (c,a) \in R^{-1})\}$

$= \{(b,a) \in B \times A \exists c \in C((b,c) \in S \land (a,c) \in R\}$

$={(4,1),(4,3),(5,3)}$

\section{Problem 6}

\subsection{Solution (a)}

Note that both $Dom(R)$ and $Ran(R^{-1})$ are subsets of $A$. Let $a$
be an arbitrary element of $Dom(R)$.

\begin{align*}
  a \in Dom (R) \iff \exists b \in B ((a,b) \in R) \\
  \iff \exists b \in B((b,a) \in R^{-1}) \\
  \iff a \in Ran(R^{-1})
\end{align*}

\subsection{Solution (b)}

We know that $Dom(R^{-1}) = Ran(R)$. So, it follows that
$Dom((R^{-1})^{-1}) = Ran (R^{-1})$. From, $(R^{-1})^{-1} = R$, we can
conclude that $Dom (R) = Ran (R^{-1})$.

\subsection{Solution (c)}

Suppose $(a,d)$ be an arbitrary element in $(T \circ S) \circ R$. By
the definition of composition, we can chose some $b \in B$ such that
$(a,b) \in R$ and $(b,d) \in T \circ S$. Similarly from $T \circ S$,
we can chose some $c \in C$ such that $(b,c) \in S$ and $(c,d) \in T$.
From $(a,b) \in R$ and $(b,c) \in S$, it follows that $(a,c) \in S
\circ R$. Also, from $(a,c) \in S \circ R$ and $(c,d) \in T$, it
follows that $(a,d) \in T \circ (S \circ R)$.

\subsection{Solution(d)}
\noindent

$(\Rightarrow)$ Let $(c,a)$ be an arbitrary element in $(S \circ
R)^{-1}$. Then it follows that $(a,c) \in (S \circ R)$. From the
definition of composition, it follows that there exists some $b \in B$
such that $(a,b) \in R$ and $(b,c) \in S$. It follows that $(b,a) \in
R^{-1}$ and $(c,b) \in S^{-1}$. From that we can conclude that $(c,a)
\in R^{-1} \circ S^{-1}$.

$(\Leftarrow)$ Let $(c,a)$ be an arbitrary element in $R^{-1} \circ
S^{-1}$. From the definition of composition, it folllows that there
exists some $b \in B$ such that $(c,b) \in S^{-1}$ and $(b,a) \in
R^{-1}$. It folllows that $(b,c) \in S$ and $(a,b) \in R$. Composing,
them we get $(a,c) \in S \circ R$. So, $(c,a) \in (S \circ R)^{-1}$.

\section{Problem 7}

An enemy of one's enemy is one's friend \\
An enemy of John's enemy is John's friend

Assume: John's Enemy is Josepth, so $(Joseph, John) \in E$
Joseph's Enemy is Jane, so $(Jane, Joseph) \in E$

Now, Jane and John are friend. So, $(Jane, John) \in F$
$E \circ E = \{(Jane, Joseph)\}$

$E \circ E \subseteq F$

\section{Problem 8}
\subsection{Solution(a)}
Let $a$ be an arbitrary element in $Dom(S \circ R)$. Thenit follows
that there exists some element $c \in C$ such that $(a,c) \in S \circ
R$. From the definition of composition, it follows that there exists
some element $b \in B$ such that $(a,b) \in R$ and $(b,c) \in S$. So,
it follows that for some $b$, $(a,b) \in R$. Then clearly, $a \in
Dom(R)$. Since $a$ is arbitrary, we can conclude that $Dom(S \circ R)
\subseteq Dom(R)$.

\subsection{Solution (b)}

Suppose $Ran (R) \subseteq Dom(S)$. 

$(\Rightarrow)$ Let $a$ be an arbitrary element in $Dom(S \circ R)$.
Then it follows that for some $c \in C$, $(a,c) \in S \circ R$. From
the definition of composition it follows that there exists some $b \in
B$ such that $(a,b) \in R$ and $(b,c) \in S$. From $(a,b) \in R$, it
follows that $a \in Dom(R)$.

$(\Leftarrow)$ Let $a$ be an arbitrary element in $Dom(R)$. Then it
follows that for some element $b \in B$ there exists $(a,b) \in R$.
From $Ran(R) \subseteq Dom(S)$, it follows that $b \in Dom(S)$. So,
there exists some $c \in C$ such that $(b,c) \in S$. From $(a,b) \in
R$ and $(b,c) \in S$, it follows that $(a,c) \in S \circ R$. Therefore
$a \in Dom(S \circ R)$.

\subsection{Solution (c)}

(a) $Dom(S \circ R) \subseteq Dom(R)$ \\
$ \iff Ran((S \circ R)^{-1}) \subseteq Ran(R^{-1})$ \\
$ \iff Ran(R^{-1} \circ S^{-1}) \subseteq Ran(R^{-1})$

(b) $Ran(R) \subseteq Dom(S) \implies Dom(S \circ R) = Dom(R)$ \\
$ \iff Dom(R^{-1}) \subseteq Ran(S^{-1}) \implies Ran((S \circ
R)^{-1}) = Ran(R^{-1})$ \\
$ \iff Dom(R^{-1}) \subseteq Ran(S^{-1}) \implies Ran(R^{-1} \circ
S^{-1}) = Ran(R^{-1})$

\section{Problem 9}

\subsection{Solution (a)}

Let $(a,b)$ be an arbitrary element in $R$. Then it follows that $a
\in Dom(R)$ and $b \in Ran(R)$. So, clearly $(a,b) \in Dom(R) \times Ran(R)$.

\subsection{Solution(b)}

Suppose $R \subseteq S$. Let $(b,a)$ be an arbitrary element in
$R^{-1}$. It follows that $(a,b) \in R$. From $R \subseteq S$, it
follows that $(a,b) \in S$. So, $(b,a) \in S^{-1}$. Since $(b,a)$ is
an arbitrary element, it follows that $R^{-1} \subseteq S^{-1}$.

\subsection{Solution (c)}

$(\Rightarrow)$ Let $(b,a)$ be an arbitrary element in $(R \cup
S)^{-1}$. It follows that $(a,b) \in R \cup S$. Let us consider the
cases separately:

Case 1. $(a,b) \in R$ It follows that $(b,a) \in R^{-1}$. So $(b,a)
\in R^{-1} \cup S^{-1}$.
Case 2. $(a,b) \in S$ It follows that $(b,a) \in S^{-1}$. So $(b,a)
\in R^{-1} \cup S^{-1}$.

$(\Leftarrow)$ Let $(b,a)$ be an arbitrary element in $R^{-1} \cup
S^{-1}$. Let us consider the cases separately:

Case 1. $(b,a) \in R^{-1}$ It follows that $(a,b) \in R$. So $(a,b)
\in R \cup S$. Therefore $(b,a) \in (R \cup S)^{-1}$.
Case 2. $(b,a) \in S^{-1}$ It follows that $(a,b) \in S$. So, $(a,b)
\in R \cup S$ Therefore $(b,a) \in (R \cup S)^{-1}$

\section{Problem 10}

We will prove contrapositive in both directions.

$(\Rightarrow)$ Suppose $(Ran(R) \cap Dom(S)) \neq \emptyset$. Then by
existential instantiation, $b \in Ran(R)$ and $b \in Dom(S)$. From $b
\in Ran(R)$, it follows that there exists some $a$ such that $(a,b)
\in R$. Similarly, $(b,c) \in S$. From $(a,b)in B$ and $(b,c) \in S$,
it follows that $(a,c) \in S \circ R$. So $S \circ R \neq \emptyset$ 

$(\Leftarrow)$ Suppose $S \circ R \neq \emptyset$. Then it follows
that there exists some element $(a,c)$ in $S \circ R$. From the
definition of composition, it follows that $(a,b) \in R$ and $(b,c)
\in S$ for some $b \in B$. From $(a,b) \in R$, it follows that $b \in
Ran(R)$. Similarly $b \in Dom(S)$. Therefore, $b \in Ran(R) \cap
Dom(S)$. So, $Ran (R) \cap Dom(S) \neq \emptyset$

\section{Problem 11}
\subsection{Solution (a)}
Let $(a,c)$ be an arbitrary element in $(S \circ R) \setminus (T \circ
R)$. It follows that $(a,c) \in S \circ R$ and $(a,c) \notin T \circ
R$. From $(a,c) \in S \circ R$, it follows that there is some $b \in
B$ such that $(a,b) \in R$ and $(b,c) \in S$. From $(a,c) \notin T
\circ R$, it follows that there is some $b \in B$ such that $(a,b)
\notin R \land (b,c) \notin T$. From $(b,c) \in S$ and $(b,c) \notin
T$, it follows that $(b,c) \in S \setminus T$. From $(a,b) \in R$, we
can conclude that $(a,c) \in (S \setminus T) \circ R$.

\subsection{Solution (b)}
$b$ is not arbitrary there. There can be some other $d in D$ such that
$(a,d) \in R$ and $(d,c) \in T$ making $(a,c) \in T$.

\subsection{Solution (c)}
Trick: Trace the wrong proof to find out counterexamples!
\begin{align*}
R = \{(1,3),(1,4)\} \\
S = \{(3,2)\} \\
T = \{(4,2)\} \\ \\
S \setminus T = \{(3,2)\} \\
(S \setminus T) \circ R = \{(1,2)\} \\ \\
S \circ R = \{(1,2)\} \\
T \circ R = \{(1,2)\} \\
(S \circ R) \setminus (T \circ R) = \emptyset
\end{align*}

\section{Problem 12}

\subsection{Solution (a)}

Suppose $S \subseteq T$. Let $(a,c)$ be an arbitrary element in $S
\circ R$. By existential instantiation, it follows that $(a,b) \in R$
and $(b,c) \in S$. From $S \subseteq T$, it follows that $(b,c) \in
T$. From $(a,b) \in R$ and $(b,c) \in T$ it follows that $(a,c) \in T
\circ R$. Since $(a,c)$ is an arbitrary element, we can conclude that
$S \circ R \subseteq T \circ R$. Therefore $S \subseteq T \implies S
\circ R \subseteq T \circ R$.

\subsection{Solution (b)}

Let $(a,c)$ be an arbitrary element in $(S \cap T) \circ R$. By
existential instantiation, $(a,b) \in R$ and $(b,c) \in S \cap T$.
From $(b,c) \in S \cap T$, we get $(b,c) \in T$. From $(b,c) \in S
\cap T$, we get $(b,c) \in S$ and $(b,c) \in T$. From $(a,b) \in R$
and $(b,c) \in S$, it follows that $(a,c) \in S \circ R$. Similarly
from $(a,b) \in R$ and $(b,c) \in T$, it follows that $(a,c) \in T
\circ R$. So, $(a,c) \in (S \circ R) \cap (T \circ R)$. Since $(c,c)$
is an arbitrary element, we can conclude that $(S \cap T) \circ R
\subseteq (S \circ R) \cap (T \circ R)$

\subsection{Solution (c)}
\begin{align*}
R = \{(2,1),(2,4)\} \\
S = \{(1,1)\} \\
T = \{(4,1)\} \\ \\
S \cap T = \emptyset \\
(S \cap T) \circ R = \emptyset \\ \\
S \circ R = \{(2,1)\} \\
T \circ R = \{(2,1)\} \\
(S \circ R) \cap (T \circ R) = \{(2,1)\}
\end{align*}

\subsection{Solution (d)}

$(\Rightarrow)$ Let $(a,c)$ be an arbitrary element in $(S \cup T)
\circ R$. By existential instantiation, $(a,b) \in R$ and $(b,c) \in S
\cup T$. From $(b,c) \in S \cup T$, it follows that either $(b,c) \in
S$ or $(b,c) \in T$. Let us consider the cases separately:

Case 1. $(b,c) \in S$ From $(a,b) \in R$, it follows that $(a,c) \in S
\circ R$. So $(a,c) \in (S \circ R) \cup (T \circ R)$.
Case 2. $(b,c) \in T$ From $(a,b) \in R$, it follows that $(a,c) \in T
\circ R$. So $(a,c) \in (S \circ R) \cup (T \circ R)$.

$(\Leftarrow)$ Let $(a,c)$ be an arbitrary element in $(S \circ R)
\cup (T \circ R)$. Let us consider the cases separately:

Case 1. $(a,c) \in S \circ R$. By existential instantiation, it
follows that $(a,b) \in R$ and $(b,c) \in S$. So, $(b,c) \in S \cup
T$. From $(a,b) \in R$, it follows that $(a,c) \in (S \cup T) \circ R$.
Case 2. $(a,c) in T \circ R$ By existential instantiation, it follows
that $(a,b) \in R$ and $(b,c) \in T$. So, $(b,c) \in S \cup T$. From
$(a,b) \in R$, it follows that $(a,c) \in (S \cup T) \circ R$.

\end{document}
